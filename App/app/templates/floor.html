<!DOCTYPE html>
<html lang="en">
    
    <head>
        <title>miStudySpace</title>
        <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
                <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.css">
                    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
                    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.2/jquery.flot.min.js"></script>
                    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.2/jquery.flot.symbol.min.js"></script>
                    <script type="text/javascript" src="http://raw.github.com/markrcote/flot-axislabels/master/jquery.flot.axislabels.js"></script>
                    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/flot/0.8.2/jquery.flot.time.min.js"></script>
                    <link rel="stylesheet" href="/static/global.css">
         <script src="static/jquery-circle-progress/dist/circle-progress.js"></script>
                            <link rel="stylesheet" href="/static/floor.css">
                                </head>
    
    <body>
        
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12">
                    <a href="/library?name={{ libraryName }}"style="float:left"> &lt; Back </a>
                    <br>
                </div>
            </div>
        </div>
        <div class="container-fluid  ">
            <div class="row">
                <div class="col-xs-12  text-center" style="padding-bottom:20px">
                    <h1 class="title">{{ floorName }} Floor</h1><br>
                    <div class="library circle">
                        <strong></strong>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container-fluid">
            <div class="row slideContainer">
                <div class-"col-xs-12">
                    <h2 style="margin-bottom:0xpx">Regions</h2>
                </div>
                {% for regionName, regionOccupancy in regionInfo %}
                <div class="slide text-center" >
                    
                    <a href="/floor?name={{ libraryName }}&floor={{ floorName }}" >
                        <div class="floor circle {{regionName}}">
                            <div id="container">
                                <strong id="strong-{{regionName}}"></strong>
                            </div>
                        </div>
                        
                        
                        <p style="padding-top:10px">{{ regionName }} </p>
                    </a>

                </div>
                <script>
                    
                    
                    $('.floor.circle.{{regionName}}').circleProgress({
                                                                    
                                                                    value: {{regionOccupancy}}/100,
                                                                    thickness: 10,
                                                                    startAngle: 4.65,
                                                                    size: 90,
                                                                    fill: { color: "#e64c65" }
                                                                    }).on('circle-animation-progress', function(event, progress, stepValue) {
                                                                          //$(this).find('strong').text(String(stepValue.toFixed(2)).substr(1) + '%');
                                                                          $(this).find('#strong-{{regionName}}').text(String({{regionOccupancy}} + '%'));
                                                                          
                                                                          });
                                                                          
                                                                          
                                                                          
                    </script>

                {% endfor %}
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 text-center">
                    <br>
                    <img src="/static/{{ libraryName }}_{{ floorName }}.png">
                        <br>
                        </div>
            </div>
        </div>
        
        
        
        <script>
            
            
            $('.library.circle').circleProgress({
                                                value: '.{{floorOccupancy}}',
                                                thickness: 10,
                                                startAngle: 4.65,
                                                size: 125,
                                                fill: { color: "#11A8AB" }
                                                }).on('circle-animation-progress', function(event, progress, stepValue) {
                                                      //$(this).find('strong').text(String(stepValue.toFixed(2)).substr(1) + '%');
                                                      $(this).find('strong').html(parseInt(100 * stepValue) + '%');
                                                      
                                                      });
                                                      
                                                      
                                                      
                                                      
                                                      
                                                      
            </script>
    </body>
    
    
    <footer style="position:absolute; bottom:0">
        <!--  &copy; StudySpace-->
    </footer>
</html>

